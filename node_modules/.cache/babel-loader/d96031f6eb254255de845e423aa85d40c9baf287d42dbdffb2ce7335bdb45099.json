{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{Container,Paper,TextField,Button,Typography,Box,Alert}from'@mui/material';import{login}from'../../redux/actions/authActions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[credentials,setCredentials]=useState({username:'',password:''});const[error,setError]=useState('');const dispatch=useDispatch();const navigate=useNavigate();const isAuthenticated=useSelector(state=>state.auth.isAuthenticated);useEffect(()=>{if(isAuthenticated){navigate('/tasks');}},[isAuthenticated,navigate]);const handleChange=e=>{const{name,value}=e.target;setCredentials(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');// Validate form\nif(!credentials.username||!credentials.password){setError('Username and password are required');return;}try{const result=await dispatch(login(credentials));if(!result.success){setError(result.error||'Login failed');}}catch(error){setError('An unexpected error occurred');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",className:\"login-container\",children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"login-paper\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"Login to Todo App\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"username\",value:credentials.username,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",variant:\"outlined\",fullWidth:true,margin:\"normal\",type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange}),/*#__PURE__*/_jsx(Box,{mt:3,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,size:\"large\",children:\"Login\"})}),/*#__PURE__*/_jsx(Box,{mt:2,textAlign:\"center\",children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Note: This is a simulated login. Any non-empty username and password will work.\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","Container","Paper","TextField","Button","Typography","Box","Alert","login","jsx","_jsx","jsxs","_jsxs","Login","credentials","setCredentials","username","password","error","setError","dispatch","navigate","isAuthenticated","state","auth","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","result","success","maxWidth","className","children","elevation","variant","component","gutterBottom","align","severity","sx","mb","onSubmit","label","fullWidth","margin","onChange","type","mt","color","size","textAlign"],"sources":["/home/lelouch/to_do_app/advanced-todo-app/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  Container, \n  Paper, \n  TextField, \n  Button, \n  Typography, \n  Box,\n  Alert\n} from '@mui/material';\nimport { login } from '../../redux/actions/authActions';\n\nconst Login = () => {\n  const [credentials, setCredentials] = useState({ username: '', password: '' });\n  const [error, setError] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const isAuthenticated = useSelector(state => state.auth.isAuthenticated);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/tasks');\n    }\n  }, [isAuthenticated, navigate]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCredentials(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    // Validate form\n    if (!credentials.username || !credentials.password) {\n      setError('Username and password are required');\n      return;\n    }\n\n    try {\n      const result = await dispatch(login(credentials));\n      if (!result.success) {\n        setError(result.error || 'Login failed');\n      }\n    } catch (error) {\n      setError('An unexpected error occurred');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" className=\"login-container\">\n      <Paper elevation={3} className=\"login-paper\">\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Login to Todo App\n        </Typography>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n        \n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"Username\"\n            variant=\"outlined\"\n            fullWidth\n            margin=\"normal\"\n            name=\"username\"\n            value={credentials.username}\n            onChange={handleChange}\n          />\n          \n          <TextField\n            label=\"Password\"\n            variant=\"outlined\"\n            fullWidth\n            margin=\"normal\"\n            type=\"password\"\n            name=\"password\"\n            value={credentials.password}\n            onChange={handleChange}\n          />\n          \n          <Box mt={3}>\n            <Button \n              type=\"submit\" \n              variant=\"contained\" \n              color=\"primary\" \n              fullWidth\n              size=\"large\"\n            >\n              Login\n            </Button>\n          </Box>\n          \n          <Box mt={2} textAlign=\"center\">\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              Note: This is a simulated login. Any non-empty username and password will work.\n            </Typography>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OACEC,SAAS,CACTC,KAAK,CACLC,SAAS,CACTC,MAAM,CACNC,UAAU,CACVC,GAAG,CACHC,KAAK,KACA,eAAe,CACtB,OAASC,KAAK,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,CAAEoB,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC9E,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAwB,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAsB,eAAe,CAAGvB,WAAW,CAACwB,KAAK,EAAIA,KAAK,CAACC,IAAI,CAACF,eAAe,CAAC,CAExEzB,SAAS,CAAC,IAAM,CACd,GAAIyB,eAAe,CAAE,CACnBD,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACC,eAAe,CAAED,QAAQ,CAAC,CAAC,CAE/B,KAAM,CAAAI,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAChCd,cAAc,CAACe,IAAI,GAAK,CAAE,GAAGA,IAAI,CAAE,CAACH,IAAI,EAAGC,KAAM,CAAC,CAAC,CAAC,CACtD,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBb,QAAQ,CAAC,EAAE,CAAC,CAEZ;AACA,GAAI,CAACL,WAAW,CAACE,QAAQ,EAAI,CAACF,WAAW,CAACG,QAAQ,CAAE,CAClDE,QAAQ,CAAC,oCAAoC,CAAC,CAC9C,OACF,CAEA,GAAI,CACF,KAAM,CAAAc,MAAM,CAAG,KAAM,CAAAb,QAAQ,CAACZ,KAAK,CAACM,WAAW,CAAC,CAAC,CACjD,GAAI,CAACmB,MAAM,CAACC,OAAO,CAAE,CACnBf,QAAQ,CAACc,MAAM,CAACf,KAAK,EAAI,cAAc,CAAC,CAC1C,CACF,CAAE,MAAOA,KAAK,CAAE,CACdC,QAAQ,CAAC,8BAA8B,CAAC,CAC1C,CACF,CAAC,CAED,mBACET,IAAA,CAACT,SAAS,EAACkC,QAAQ,CAAC,IAAI,CAACC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAClDzB,KAAA,CAACV,KAAK,EAACoC,SAAS,CAAE,CAAE,CAACF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1C3B,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAACC,KAAK,CAAC,QAAQ,CAAAL,QAAA,CAAC,mBAEpE,CAAY,CAAC,CAEZnB,KAAK,eACJR,IAAA,CAACH,KAAK,EAACoC,QAAQ,CAAC,OAAO,CAACC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAR,QAAA,CACnCnB,KAAK,CACD,CACR,cAEDN,KAAA,SAAMkC,QAAQ,CAAEf,YAAa,CAAAM,QAAA,eAC3B3B,IAAA,CAACP,SAAS,EACR4C,KAAK,CAAC,UAAU,CAChBR,OAAO,CAAC,UAAU,CAClBS,SAAS,MACTC,MAAM,CAAC,QAAQ,CACftB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEd,WAAW,CAACE,QAAS,CAC5BkC,QAAQ,CAAEzB,YAAa,CACxB,CAAC,cAEFf,IAAA,CAACP,SAAS,EACR4C,KAAK,CAAC,UAAU,CAChBR,OAAO,CAAC,UAAU,CAClBS,SAAS,MACTC,MAAM,CAAC,QAAQ,CACfE,IAAI,CAAC,UAAU,CACfxB,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEd,WAAW,CAACG,QAAS,CAC5BiC,QAAQ,CAAEzB,YAAa,CACxB,CAAC,cAEFf,IAAA,CAACJ,GAAG,EAAC8C,EAAE,CAAE,CAAE,CAAAf,QAAA,cACT3B,IAAA,CAACN,MAAM,EACL+C,IAAI,CAAC,QAAQ,CACbZ,OAAO,CAAC,WAAW,CACnBc,KAAK,CAAC,SAAS,CACfL,SAAS,MACTM,IAAI,CAAC,OAAO,CAAAjB,QAAA,CACb,OAED,CAAQ,CAAC,CACN,CAAC,cAEN3B,IAAA,CAACJ,GAAG,EAAC8C,EAAE,CAAE,CAAE,CAACG,SAAS,CAAC,QAAQ,CAAAlB,QAAA,cAC5B3B,IAAA,CAACL,UAAU,EAACkC,OAAO,CAAC,OAAO,CAACc,KAAK,CAAC,eAAe,CAAAhB,QAAA,CAAC,iFAElD,CAAY,CAAC,CACV,CAAC,EACF,CAAC,EACF,CAAC,CACC,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAxB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}