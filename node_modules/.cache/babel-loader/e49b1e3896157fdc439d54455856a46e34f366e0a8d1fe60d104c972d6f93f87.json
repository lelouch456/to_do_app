{"ast":null,"code":"import React from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{AppBar,Toolbar,Typography,Button,Box,useMediaQuery,useTheme,IconButton,Menu,MenuItem}from'@mui/material';import AccountCircleIcon from'@mui/icons-material/AccountCircle';import MenuIcon from'@mui/icons-material/Menu';import{logoutUser}from'../../redux/actions/authActions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const[anchorEl,setAnchorEl]=React.useState(null);const isAuthenticated=useSelector(state=>state.auth.isAuthenticated);const user=useSelector(state=>state.auth.user);const dispatch=useDispatch();const navigate=useNavigate();const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('sm'));const handleMenu=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const handleLogout=()=>{dispatch(logoutUser());handleClose();navigate('/login');};return/*#__PURE__*/_jsx(AppBar,{position:\"static\",className:\"header\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Advanced Todo App\"}),isAuthenticated?/*#__PURE__*/_jsx(_Fragment,{children:isMobile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",edge:\"end\",color:\"inherit\",\"aria-label\":\"menu\",onClick:handleMenu,children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleClose,children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:(user===null||user===void 0?void 0:user.username)||'User'}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mr:2,children:[/*#__PURE__*/_jsx(AccountCircleIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:(user===null||user===void 0?void 0:user.username)||'User'})]}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:handleLogout,children:\"Logout\"})]})}):/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:()=>navigate('/login'),children:\"Login\"})]})});};export default Header;","map":{"version":3,"names":["React","useSelector","useDispatch","useNavigate","AppBar","Toolbar","Typography","Button","Box","useMediaQuery","useTheme","IconButton","Menu","MenuItem","AccountCircleIcon","MenuIcon","logoutUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","anchorEl","setAnchorEl","useState","isAuthenticated","state","auth","user","dispatch","navigate","theme","isMobile","breakpoints","down","handleMenu","event","currentTarget","handleClose","handleLogout","position","className","children","variant","component","sx","flexGrow","size","edge","color","onClick","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","disabled","username","display","alignItems","mr"],"sources":["/home/lelouch/to_do_app/advanced-todo-app/src/components/Layout/Header.js"],"sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { \n  AppBar, \n  Toolbar, \n  Typography, \n  Button, \n  Box, \n  useMediaQuery, \n  useTheme, \n  IconButton,\n  Menu,\n  MenuItem\n} from '@mui/material';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport { logoutUser } from '../../redux/actions/authActions';\n\nconst Header = () => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const isAuthenticated = useSelector(state => state.auth.isAuthenticated);\n  const user = useSelector(state => state.auth.user);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    handleClose();\n    navigate('/login');\n  };\n\n  return (\n    <AppBar position=\"static\" className=\"header\">\n      <Toolbar>\n        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n          Advanced Todo App\n        </Typography>\n        \n        {isAuthenticated ? (\n          <>\n            {isMobile ? (\n              <>\n                <IconButton\n                  size=\"large\"\n                  edge=\"end\"\n                  color=\"inherit\"\n                  aria-label=\"menu\"\n                  onClick={handleMenu}\n                >\n                  <MenuIcon />\n                </IconButton>\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  keepMounted\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem disabled>\n                    {user?.username || 'User'}\n                  </MenuItem>\n                  <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                </Menu>\n              </>\n            ) : (\n              <Box display=\"flex\" alignItems=\"center\">\n                <Box display=\"flex\" alignItems=\"center\" mr={2}>\n                  <AccountCircleIcon sx={{ mr: 1 }} />\n                  <Typography variant=\"body1\">\n                    {user?.username || 'User'}\n                  </Typography>\n                </Box>\n                <Button color=\"inherit\" onClick={handleLogout}>Logout</Button>\n              </Box>\n            )}\n          </>\n        ) : (\n          <Button color=\"inherit\" onClick={() => navigate('/login')}>Login</Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}