{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Container,Typography,Box,Alert,CircularProgress}from'@mui/material';import TaskInput from'./TaskInput';import TaskItem from'./TaskItem';import{loadTasksFromStorage}from'../../utils/localStorage';import{addTask}from'../../redux/actions/taskActions';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TaskList=()=>{const tasks=useSelector(state=>state.tasks.tasks);const weatherError=useSelector(state=>state.tasks.weatherError);const user=useSelector(state=>state.auth.user);const dispatch=useDispatch();// Load tasks from localStorage on component mount\nuseEffect(()=>{if(tasks.length===0){const savedTasks=loadTasksFromStorage();savedTasks.forEach(task=>{dispatch(addTask(task));});}},[dispatch,tasks.length]);// Sort tasks by priority\nconst sortedTasks=[...tasks].sort((a,b)=>{const priorityOrder={High:1,Medium:2,Low:3};return priorityOrder[a.priority]-priorityOrder[b.priority];});return/*#__PURE__*/_jsxs(Container,{className:\"task-list-container\",children:[/*#__PURE__*/_jsxs(Box,{mb:4,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"h1\",children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.name)||'User']}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:\"Manage your tasks efficiently\"})]}),/*#__PURE__*/_jsx(TaskInput,{}),weatherError&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{my:2},children:weatherError}),/*#__PURE__*/_jsx(Box,{className:\"tasks-grid\",children:tasks.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",color:\"textSecondary\",mt:4,children:\"No tasks yet. Add a task to get started!\"}):sortedTasks.map(task=>/*#__PURE__*/_jsx(TaskItem,{task:task},task.id))})]});};export default TaskList;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","Container","Typography","Box","Alert","CircularProgress","TaskInput","TaskItem","loadTasksFromStorage","addTask","jsxs","_jsxs","jsx","_jsx","TaskList","tasks","state","weatherError","user","auth","dispatch","length","savedTasks","forEach","task","sortedTasks","sort","a","b","priorityOrder","High","Medium","Low","priority","className","children","mb","variant","component","name","color","severity","sx","my","align","mt","map","id"],"sources":["/home/lelouch/to_do_app/advanced-todo-app/src/components/Tasks/TaskList.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n  Container, \n  Typography, \n  Box, \n  Alert, \n  CircularProgress \n} from '@mui/material';\nimport TaskInput from './TaskInput';\nimport TaskItem from './TaskItem';\nimport { loadTasksFromStorage } from '../../utils/localStorage';\nimport { addTask } from '../../redux/actions/taskActions';\n\nconst TaskList = () => {\n  const tasks = useSelector(state => state.tasks.tasks);\n  const weatherError = useSelector(state => state.tasks.weatherError);\n  const user = useSelector(state => state.auth.user);\n  const dispatch = useDispatch();\n\n  // Load tasks from localStorage on component mount\n  useEffect(() => {\n    if (tasks.length === 0) {\n      const savedTasks = loadTasksFromStorage();\n      savedTasks.forEach(task => {\n        dispatch(addTask(task));\n      });\n    }\n  }, [dispatch, tasks.length]);\n\n  // Sort tasks by priority\n  const sortedTasks = [...tasks].sort((a, b) => {\n    const priorityOrder = { High: 1, Medium: 2, Low: 3 };\n    return priorityOrder[a.priority] - priorityOrder[b.priority];\n  });\n\n  return (\n    <Container className=\"task-list-container\">\n      <Box mb={4}>\n        <Typography variant=\"h4\" component=\"h1\">\n          Welcome back, {user?.name || 'User'}\n        </Typography>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          Manage your tasks efficiently\n        </Typography>\n      </Box>\n\n      <TaskInput />\n\n      {weatherError && (\n        <Alert severity=\"error\" sx={{ my: 2 }}>\n          {weatherError}\n        </Alert>\n      )}\n\n      <Box className=\"tasks-grid\">\n        {tasks.length === 0 ? (\n          <Typography variant=\"body1\" align=\"center\" color=\"textSecondary\" mt={4}>\n            No tasks yet. Add a task to get started!\n          </Typography>\n        ) : (\n          sortedTasks.map(task => (\n            <TaskItem key={task.id} task={task} />\n          ))\n        )}\n      </Box>\n    </Container>\n  );\n};\n\nexport default TaskList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}